<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>route - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-load.html">load</a></li><li><a href="module-route.html">route</a><ul class='methods'><li data-type='method'><a href="module-route.html#.checkMatchResult">checkMatchResult</a></li><li data-type='method'><a href="module-route.html#.define">define</a></li><li data-type='method'><a href="module-route.html#.excludeAbandonModules">excludeAbandonModules</a></li><li data-type='method'><a href="module-route.html#.getAuthorization">getAuthorization</a></li><li data-type='method'><a href="module-route.html#.navigator">navigator</a></li><li data-type='method'><a href="module-route.html#.setup">setup</a></li><li data-type='method'><a href="module-route.html#.start">start</a></li><li data-type='method'><a href="module-route.html#.verify">verify</a></li></ul></li></ul><h3>Namespaces</h3><ul><li><a href="xjs.html">xjs</a><ul class='methods'><li data-type='method'><a href="xjs.html#.addAnnounceEvent">addAnnounceEvent</a></li><li data-type='method'><a href="xjs.html#.byId">byId</a></li><li data-type='method'><a href="xjs.html#.createView">createView</a></li><li data-type='method'><a href="xjs.html#.declare">declare</a></li><li data-type='method'><a href="xjs.html#.destroyView">destroyView</a></li><li data-type='method'><a href="xjs.html#.getUserInfo">getUserInfo</a></li><li data-type='method'><a href="xjs.html#.load">load</a></li><li data-type='method'><a href="xjs.html#.removeAnnounceEvent">removeAnnounceEvent</a></li><li data-type='method'><a href="xjs.html#.setUserInfo">setUserInfo</a></li><li data-type='method'><a href="xjs.html#.tool">tool</a></li><li data-type='method'><a href="xjs.html#.triggerAnounceEvent">triggerAnounceEvent</a></li></ul></li><li><a href="xjs_router.html">xjs/router</a><ul class='methods'><li data-type='method'><a href="xjs_router.html#.define">define</a></li><li data-type='method'><a href="xjs_router.html#.navigator">navigator</a></li><li data-type='method'><a href="xjs_router.html#.setup">setup</a></li><li data-type='method'><a href="xjs_router.html#.start">start</a></li></ul></li></ul><h3>Mixins</h3><ul><li><a href="widget.html">widget</a><ul class='members'><li data-type='member'><a href="widget.html#.baseClass">baseClass</a></li><li data-type='member'><a href="widget.html#.id">id</a></li><li data-type='member'><a href="widget.html#.templateString">templateString</a></li><li data-type='member'><a href="widget.html#.title">title</a></li></ul><ul class='methods'><li data-type='method'><a href="widget.html#.buildRender">buildRender</a></li><li data-type='method'><a href="widget.html#.init">init</a></li><li data-type='method'><a href="widget.html#.onExit">onExit</a></li><li data-type='method'><a href="widget.html#.request">request</a></li><li data-type='method'><a href="widget.html#.startup">startup</a></li></ul></li></ul>
</nav>

<div id="main">
    
    <h1 class="page-title">route</h1>
    

    




<section>

<header>
    
        
            
        
    
</header>

<article>
    <div class="container-overview">
    
        
            <div class="description"><p>路由模块</p></div>
        

        
            




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="core_route.js.html">core/route.js</a>, <a href="core_route.js.html#line2">line 2</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





























        
    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id=".checkMatchResult"><span class="type-signature">(static) </span>checkMatchResult<span class="signature">(hash, callback)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="core_route.js.html">core/route.js</a>, <a href="core_route.js.html#line229">line 229</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>检查当前路由是否能在路由映射表里找到，如果找不到匹配值就会触发传递给setup里的fail函数</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hash</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id=".define"><span class="type-signature">(static) </span>define<span class="signature">(name, nexus<span class="signature-attributes">opt</span>, authorize<span class="signature-attributes">opt</span>, callback)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="core_route.js.html">core/route.js</a>, <a href="core_route.js.html#line53">line 53</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>定义路由回调</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var router = new Router();//一般定义router.define('Page.Home', function() {//todo something})//需要登陆验证router.define('Page.Home', true, function() {//todo something});//需要路由依赖router.define('Page.Home', ['ui.Nav', 'ui.Header', 'ui.Footer'], function() {//todo something})；//需要路由依赖、登陆验证router.define('Page.Home', ['ui.Nav', 'ui.Header', 'ui.Footer'], true, function() {//todo something})；</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>name</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>nexus</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>此路由所依赖的关系链</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>authorize</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>是否需要登录操作</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            
                <td class="attributes">
                

                

                
                </td>
            

            

            <td class="description last"><p>回调函数，如果有路由关系链，将会等待关系链的成员准备好后再执行回调</p></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id=".excludeAbandonModules"><span class="type-signature">(static) </span>excludeAbandonModules<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="core_route.js.html">core/route.js</a>, <a href="core_route.js.html#line253">line 253</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>对当前路由依赖关系以及下一个路由依赖关系做对比，对不存在于路由关系链里的模块会销毁掉<a href="xjs.html#.destroyView"><code>xjs.destroyView</code></a></p>
</div>

























        
            

    

    <h4 class="name" id=".getAuthorization"><span class="type-signature">(static) </span>getAuthorization<span class="signature">(hash)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="core_route.js.html">core/route.js</a>, <a href="core_route.js.html#line219">line 219</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>跳转到登陆模块，完成用户身份验证后再进入hash所匹配的路由</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hash</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id=".navigator"><span class="type-signature">(static) </span>navigator<span class="signature">(hash<span class="signature-attributes">opt</span>, state<span class="signature-attributes">opt</span>, replaceHash<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="core_route.js.html">core/route.js</a>, <a href="core_route.js.html#line115">line 115</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>导航到下一个路由地址</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var router = new Router();//默认情况，引导到#home并在历史记录里插入新的记录router.navigator('#home'）;//追加路由缓存信息router.navigator('#home', {isHomePage: true});console.log(history.state.isHomePage) // true//提换当前路由历史记录router.navigator('#home', {}, true);</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hash</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>下一个路由的Hash地址，不填写则默认引导到#home</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>state</code></td>
            

            <td class="type">
            
                
<span class="param-type">Object</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>路由的缓存内容，将会存储到history.state对象里</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>replaceHash</code></td>
            

            <td class="type">
            
                
<span class="param-type">Boolean</span>


            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>当设置为true时会提换历史记录里最后一条路由信息，当设置为false时则会以新增的方式插入历史纪录</p></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id=".setup"><span class="type-signature">(static) </span>setup<span class="signature">(Object<span class="signature-attributes">opt</span>, Object<span class="signature-attributes">opt</span>)</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="core_route.js.html">core/route.js</a>, <a href="core_route.js.html#line11">line 11</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>定义路由映射表以及路由的回调函数，支持利用正则表达式</p>
</div>









    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var router new Router();router.setup({  '#home': 'Page.Home' //请确保唯一性}，{  before: function(){}, //处理路由切换前触发  fail: function(){} //当路由找不到时的回调})router.define('Page.Home', function() { //todo something})//同时支持使用正则表达式匹配路由//假设一个新闻业务模块包含bbc、cctv、netflix，那么路由可以这样定义://#page/bbc/news///#page/cctv/news///#page/netflix/news/router.setup({ '#page/(\\w+)/news/': 'Page.News' // 可以匹配到上述三个新闻渠道});router.define('Page.News', function(nId) {  console.log(nid); //bbc});</code></pre>




    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        
        <th>Attributes</th>
        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>Object</code></td>
            

            <td class="type">
            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>routemap 路由定义表</p></td>
        </tr>

    

        <tr>
            
                <td class="name"><code>Object</code></td>
            

            <td class="type">
            
            </td>

            
                <td class="attributes">
                
                    &lt;optional><br>
                

                

                
                </td>
            

            

            <td class="description last"><p>callbacks 回调组</p></td>
        </tr>

    
    </tbody>
</table>
















        
            

    

    <h4 class="name" id=".start"><span class="type-signature">(static) </span>start<span class="signature">()</span><span class="type-signature"></span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="core_route.js.html">core/route.js</a>, <a href="core_route.js.html#line168">line 168</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>启动路由监听事件，必须在定义路由引射表以及路由回调后再启动。<br>
将会监听路由切换事件，例如浏览器的回退和前进</p>
</div>

























        
            

    

    <h4 class="name" id=".verify"><span class="type-signature">(static) </span>verify<span class="signature">(hash)</span><span class="type-signature"> &rarr; {Boolean}</span></h4>

    




<dl class="details">

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="core_route.js.html">core/route.js</a>, <a href="core_route.js.html#line194">line 194</a>
    </li></ul></dd>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>





<div class="description">
    <p>检测hash是否在路由路由映射表内</p>
</div>











    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>hash</code></td>
            

            <td class="type">
            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>














<h5>Returns:</h5>

        
<div class="param-desc">
    <p>是否匹配到</p>
</div>



<dl class="param-type">
    <dt>
        Type
    </dt>
    <dd>
        
<span class="param-type">Boolean</span>


    </dd>
</dl>

    


        
    

    

    
</article>

</section>




</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Mon Oct 09 2017 15:16:48 GMT+0800 (China Standard Time) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>