<html>
<head>
</head>
<body style="background: transparent;">
    <script src="scripts/docstrap.lib.js"></script>
    <script src="scripts/lunr.min.js"></script>
    <script src="scripts/fulltext-search.js"></script>

    <script type="text/x-docstrap-searchdb">
    {"modules.list.html":{"id":"modules.list.html","title":"Modules","body":" Documentation Namespaces xjs Modules Router Mixins widget Modules Mixins widget Namespaces xjs × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-10-08T12:22:10+08:00 using the DocStrap template. "},"namespaces.list.html":{"id":"namespaces.list.html","title":"Namespaces","body":" Documentation Namespaces xjs Modules Router Mixins widget Namespaces Mixins widget Namespaces xjs × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-10-08T12:22:10+08:00 using the DocStrap template. "},"mixins.list.html":{"id":"mixins.list.html","title":"Mixins","body":" Documentation Namespaces xjs Modules Router Mixins widget Mixins Mixins widget Namespaces xjs × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-10-08T12:22:10+08:00 using the DocStrap template. "},"index.html":{"id":"index.html","title":"Index","body":" Documentation Namespaces xjs Modules Router Mixins widget 版本号：1.0.0简介：基于MVC的理念构建的一个前端单页应用框架，追求轻巧、快速、可复用、不脱离原生写法的前端框架。 目前angular、react等流行的前端框架，虽然功能强大但有几个明显的缺陷： 在JS以及HTML中创建了非常多用于双向绑定的语法，过于抽象并且脱离了原生JS的一些基本逻辑，导致许多前端工程师需要花费大量时间去学习和理解。 强调双向数据绑定导致了代码的调试非常麻烦。 API变化太快，例如angular v1.0 和 v2.0根本就是两个框架，这对于花费大量时间学会了angular v1.0的人来说绝对是噩梦。 所以本着学习和研究的目的以及更加稳定可靠 在借鉴了这些框架的优点后 构建了一套前端框架，力求根据公司业务灵活的调整、快速开发、简单上手。 目录分类：dev/ 前端自动构建工具生成文件夹，存储编译过后的文件 src/ 前端资源文件夹 icons/ 图标 images/ 公用图片 pages/ html模板 sass/ CSS js/ 脚本 lib/ 底层依赖插件 plugin/ 业务插件 core/ 核心模块 engine.js 底层框架核心 route.js 路由模块 watch.js 数据监听模块 widget.js Model基类 app.js 项目入口文件 router.js 路由定义模块前端开发环境配置： 安装Nodejs 在当前路径下，在命令行里执行npm install载入依赖包 在命令行里执行：gulp //开始工作 开发结束后执行一下命令，并从dev目录里获取发布版本gulp release //发布线上版本 API文档：正在补充.. 任何疑问：QQ: 3427495853 mail: mr.jiangxue@hotmail.com × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-10-08T12:22:10+08:00 using the DocStrap template. "},"module-Router.html":{"id":"module-Router.html","title":"Module: Router","body":" Documentation Namespaces xjs Modules Router Mixins widget Module: Router 路由模块 Methods &lt;static&gt; checkMatchResult(hash, callback) 检查当前路由是否能在路由映射表里找到，如果找不到匹配值就会触发传递给setup里的fail函数 Parameters: Name Type Description hash String callback function &lt;static&gt; define(name [, nexus] [, authorize], callback) 定义路由回调 Parameters: Name Type Argument Description name String nexus Object &lt;optional&gt; 此路由所依赖的关系链 authorize Boolean &lt;optional&gt; 是否需要登录操作 callback function 回调函数，如果有路由关系链，将会等待关系链的成员准备好后再执行回调 Example var router = new Router(); //一般定义 router.define('Page.Home', function() { //todo something }) //需要登陆验证 router.define('Page.Home', true, function() { //todo something }); //需要路由依赖 router.define('Page.Home', ['ui.Nav', 'ui.Header', 'ui.Footer'], function() { //todo something })； //需要路由依赖、登陆验证 router.define('Page.Home', ['ui.Nav', 'ui.Header', 'ui.Footer'], true, function() { //todo something })； &lt;static&gt; excludeAbandonModules() 对当前路由依赖关系以及下一个路由依赖关系做对比，会保留重复调用的路由关系链成员 &lt;static&gt; getAuthorization(hash) 跳转到登陆模块，完成用户身份验证后再进入hash所匹配的路由 Parameters: Name Type Description hash &lt;static&gt; navigator( [hash] [, state] [, replaceHash]) 导航到下一个路由地址 Parameters: Name Type Argument Description hash String &lt;optional&gt; 下一个路由的Hash地址，不填写则默认引导到#home state Object &lt;optional&gt; 路由的缓存内容，将会存储到history.state对象里 replaceHash Boolean &lt;optional&gt; 当设置为true时会提换历史记录里最后一条路由信息，当设置为false时则会以新增的方式插入历史纪录 Example var router = new Router(); //默认情况，引导到#home并在历史记录里插入新的记录 router.navigator('#home'）; //追加路由缓存信息 router.navigator('#home', {isHomePage: true}); console.log(history.state.isHomePage) // true //提换当前路由历史记录 router.navigator('#home', {}, true); &lt;static&gt; setup( [Object] [, Object]) 定义路由映射表以及路由的回调函数，支持利用正则表达式 Parameters: Name Type Argument Description Object &lt;optional&gt; routemap 路由定义表 Object &lt;optional&gt; callbacks 回调组 Example var router new Router(); router.setup({ '#home': 'Page.Home' //请确保唯一性 }，{ before: function(){}, //处理路由切换前触发 fail: function(){} //当路由找不到时的回调 }) router.define('Page.Home', function() { //todo something }) //同时支持使用正则表达式匹配路由 //假设一个新闻业务模块包含bbc、cctv、netflix，那么路由可以这样定义: //#page/bbc/news/ //#page/cctv/news/ //#page/netflix/news/ router.setup({ '#page/(\\\\w+)/news/': 'Page.News' // 可以匹配到上述三个新闻渠道 }); router.define('Page.News', function(nId) { console.log(nid); //bbc }); &lt;static&gt; start() 启动路由监听事件，必须在定义路由引射表以及路由回调后再启动。 将会监听路由切换事件，例如浏览器的回退和前进 &lt;static&gt; verify(hash) 检测hash是否在路由路由映射表内 Parameters: Name Type Description hash Returns: 是否匹配到 Type Boolean × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-10-08T12:22:10+08:00 using the DocStrap template. "},"widget.html":{"id":"widget.html","title":"Mixin: widget","body":" Documentation Namespaces xjs Modules Router Mixins widget Mixin: widget widget 这是Page的基类，所有Page的默认事件和流程都是在这里被定义,每个函数都可以通过this._super()的方式访问到父级的函数 执行的顺序按照init--&gt;request--&gt;syncGetData--&gt;buildRender--&gt;startup--&gt;onExit Methods &lt;static&gt; startup() 当模板和数据都被渲染后就会调用startup事件，Page里的Dom节点操作以及业务逻辑都应该在这里实现。 buildRender() 模板渲染流程，将会把this对象作为数据采集对象传入模板。并扫描模板里的自定义锚点后映射到this对象上 [data-xjs-element] 将挂载到this对象上，并通过$ + name 用以区分普通dom对象和jquery对象 See: {widget#request} Example &lt;div data-xjs-element=&quot;divNode&quot;&gt;&lt;/div&gt; //this.divNode 获取原始dom对象 //this.$divNode 获取jquery对象 init(dom) Page类的初始化函数，同时控制渲染事件的执行流程，此方法不可以被重写。 Parameters: Name Type Description dom 基类渲染的Dom节点 onExit() Page的退出事件，在路由切换被触发时调用，如果有添加事件监听需要自行注销，应该写在这个事件里， 如果你复写了这个函数，别忘了在function末尾调用this._super() request() request函数用于设置需要预先请求的数据队列，所有队列请求成功后才会执行后面的流程。 对zepto的ajax模块进行了二次封装，所有参数和$.ajax一致。ajax返回的数据将会根据app的名字挂载到this.data下 Example request: function() { return { app: 'name', //在request之后的函数中可以用this.data.name获取到数据 url: 'example.do', data: {} } } //或者 request: function() { return [{ app: 'app1', //在request之后的函数中可以用this.data.name获取到数据 url: 'example.do', data: {} }, { app: 'app2', url: 'test.do' }] } × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-10-08T12:22:10+08:00 using the DocStrap template. "},"xjs.html":{"id":"xjs.html","title":"Namespace: xjs","body":" Documentation Namespaces xjs Modules Router Mixins widget Namespace: xjs xjs 框架的方法集合，是全局公用对象 Methods &lt;static&gt; addAnnounceEvent(name, fn) 注册一个全局事件，可以通过xjs.triggerAnnounceEvent触发 Parameters: Name Type Description name String 事件名 fn function 回调函数 &lt;static&gt; byId(传入实例化的Page类下的_id) 获取一个已实例化的Page类，传入Page类的id后获取到对象 Parameters: Name Type Description 传入实例化的Page类下的_id String Returns: 当前id所对应的Page类的this对象 Type Object &lt;static&gt; createView(name [, param] [, wrapper] [, defaultNode]) 实例化一个Page类，请确已使用xjs.declare申明这个类 Parameters: Name Type Argument Description name String 已申明的Page类名 param Object &lt;optional&gt; 可选参数，可选此对象将会和Page对象合并 wrapper Object &lt;optional&gt; 可选参数，传入Dom节点则会以这个节点为父节点，否则就会在#appview下创建一个新的dom节点 defaultNode Boolean &lt;optional&gt; 可选参数，选择以Wrapper或Wrapper的子节点作为主节点，将会插入模板到此结点 &lt;static&gt; declare(classname, parents, prop) 申明一个Page类，所有Page类都需要先申明后才可以作为参数被被creatView使用 Parameters: Name Type Description classname String Page类的名字 parents Object 继承的对象 prop Object Page类的方法集合 See: widget &lt;static&gt; destoryView(id) 销毁一个Page类，并触发onExit事件 Parameters: Name Type Description id string 实例化类的id See: widget &lt;static&gt; removeAnnounceEvent(name) 注销一个全局事件 Parameters: Name Type Description name String 事件名 &lt;static&gt; router() 路由模块 See: module:Router &lt;static&gt; triggerAnounceEvent(name) 触发一个全局事件 Parameters: Name Type Description name String 事件名 × Search results Close Documentation generated by JSDoc 3.5.5 on 2017-10-08T12:22:10+08:00 using the DocStrap template. "}}
    </script>

    <script type="text/javascript">
        $(document).ready(function() {
            Searcher.init();
        });

        $(window).on("message", function(msg) {
            var msgData = msg.originalEvent.data;

            if (msgData.msgid != "docstrap.quicksearch.start") {
                return;
            }

            var results = Searcher.search(msgData.searchTerms);

            window.parent.postMessage({"results": results, "msgid": "docstrap.quicksearch.done"}, "*");
        });
    </script>
</body>
</html>
